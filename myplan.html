<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Pro - My Plan</title>

<style>
body{
  margin:0;
  font-family:'Segoe UI',Tahoma,Verdana,sans-serif;
  background:linear-gradient(to right,#ffecd2,#fcb69f);
}

/* Top Bar */
.top-bar{
  display:flex;
  justify-content:flex-end;
  padding:12px 20px;
  background:#f78f1e;
}
.top-bar button{
  background:#fff;
  color:#f78f1e;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:bold;
}

/* Container */
.container{
  padding:20px;
}

/* Summary Boxes */
.summary{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
  margin-bottom:20px;
}

.box{
  background:#fff;
  padding:15px;
  border-radius:12px;
  box-shadow:0 6px 15px rgba(0,0,0,0.15);
  text-align:center;
}

.box h3{
  margin:0;
  font-size:14px;
  color:#777;
}
.box p{
  margin:5px 0 0;
  font-size:18px;
  font-weight:bold;
  color:#f78f1e;
}

/* Plan Card */
.plan{
  background:#fff;
  padding:15px;
  border-radius:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  margin-bottom:15px;
}

.plan h4{
  margin:0 0 8px;
  color:#f78f1e;
}

.plan p{
  margin:4px 0;
  font-size:14px;
}

/* Empty */
.empty{
  text-align:center;
  background:#fff;
  padding:30px;
  border-radius:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.15);
  color:#777;
}

/* Bottom Nav */
.bottom-nav{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  background:#fff;
  display:flex;
  justify-content:space-around;
  padding:10px 0;
  box-shadow:0 -3px 10px rgba(0,0,0,0.1);
}
.bottom-nav a{
  text-decoration:none;
  color:#f78f1e;
  font-weight:bold;
  font-size:14px;
}
</style>
</head>

<body>

<!-- Top -->
<div class="top-bar">
  <button>Customer Support: 03105403991</button>
</div>

<div class="container">

  <!-- Summary -->
  <div class="summary">
    <div class="box">
      <h3>Total Investment</h3>
      <p id="totalInvest">PKR 0</p>
    </div>
    <div class="box">
      <h3>Today Earning</h3>
      <p id="todayEarn">PKR 0</p>
    </div>
    <div class="box">
      <h3>Total Earning</h3>
      <p id="totalEarn">PKR 0</p>
    </div>
    <div class="box">
      <h3>Active Plans</h3>
      <p id="planCount">0</p>
    </div>
  </div>

  <!-- Plans -->
  <div id="plansArea"></div>

</div>

<!-- Bottom Nav -->
<div class="bottom-nav">
  <a href="home.html">Home</a>
  <a href="buyplan.html">Buy Plan</a>
  <a href="myplan.html">My Plan</a>
  <a href="invite.html">Invite</a>
  <a href="me.html">Me</a>
</div>

<script>
let plans = JSON.parse(localStorage.getItem("myPlans")) || [];

let totalInvest = 0;
let todayEarn = 0;
let totalEarn = 0;

let plansArea = document.getElementById("plansArea");

if(plans.length === 0){
  plansArea.innerHTML = `
    <div class="empty">
      No active plans found.<br><br>
      Buy a plan to start earning ðŸ’°
    </div>
  `;
}else{
  plans.forEach(p=>{
    totalInvest += p.price;
    todayEarn += p.daily;

    let start = new Date(p.start);
    let now = new Date();
    let daysPassed = Math.floor((now-start)/(1000*60*60*24));
    if(daysPassed < 0) daysPassed = 0;

    totalEarn += daysPassed * p.daily;

    plansArea.innerHTML += `
      <div class="plan">
        <h4>${p.plan}</h4>
        <p>Investment: PKR ${p.price}</p>
        <p>Daily Income: PKR ${p.daily}</p>
        <p>Buy Date: ${p.start}</p>
        <p>Expire Date: ${p.expire}</p>
        <p><strong>Today's Income:</strong> PKR ${p.daily}</p>
      </div>
    `;
  });
}

document.getElementById("totalInvest").innerText = "PKR " + totalInvest;
document.getElementById("todayEarn").innerText = "PKR " + todayEarn;
document.getElementById("totalEarn").innerText = "PKR " + totalEarn;
document.getElementById("planCount").innerText = plans.length;
</script>

</body>
  </html>
