<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gold Pro - Login/Register</title>
<style>
body{margin:0;font-family:'Segoe UI',sans-serif;background:linear-gradient(to right,#ffecd2,#fcb69f);}
.container{max-width:400px;margin:60px auto;padding:20px;background:#fff;border-radius:15px;box-shadow:0 10px 25px rgba(0,0,0,0.15);}
h2{text-align:center;color:#f78f1e;margin-bottom:20px;}
input{width:100%;padding:12px;margin:10px 0;border-radius:10px;border:1px solid #ddd;font-size:16px;}
button{width:100%;padding:14px;margin-top:10px;background:#f78f1e;color:#fff;border:none;border-radius:12px;font-weight:bold;font-size:16px;cursor:pointer;}
button:hover{background:#e57700;}
.message{text-align:center;color:red;margin-top:10px;}
.toggle{text-align:center;margin-top:10px;color:#f78f1e;cursor:pointer;}
</style>
</head>
<body>

<div class="container">
  <h2 id="formTitle">Login</h2>
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="submitForm()">Submit</button>
  <div class="message" id="msg"></div>
  <div class="toggle" onclick="toggleForm()">Switch to Register</div>
</div>

<script>
let isLogin = true;
function toggleForm(){
  isLogin = !isLogin;
  document.getElementById('formTitle').innerText = isLogin ? "Login" : "Register";
  document.getElementById('msg').innerText="";
}

function submitForm(){
  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value.trim();
  if(!user || !pass){document.getElementById('msg').innerText="All fields required"; return;}
  let users = JSON.parse(localStorage.getItem('users'))||[];
  if(isLogin){
    const found = users.find(u=>u.username===user && u.password===pass);
    if(found){ localStorage.setItem('currentUser',user); window.location.href='home.html'; }
    else{document.getElementById('msg').innerText="Invalid credentials";}
  }else{
    if(users.find(u=>u.username===user)){document.getElementById('msg').innerText="Username exists"; return;}
    users.push({username:user,password:pass,balance:0,plans:[],referrals:[],depositHistory:[],withdrawHistory:[]});
    localStorage.setItem('users',JSON.stringify(users));
    document.getElementById('msg').style.color='green';
    document.getElementById('msg').innerText="Registered! Please login";
    toggleForm();
  }
}
</script>

</body>
    </html>
